<!DOCTYPE html>
<head>
  <title>Sound Suggest</title>

  <link rel="icon" type="image/x-icon" href="static/images/favicon.png" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Kanit&family=Montserrat&family=Open+Sans:wght@500&display=swap"
    rel="stylesheet"
  />

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />

  <!-- jQuery -->
  <script
    src="https://code.jquery.com/jquery-3.6.4.min.js"
    integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
    crossorigin="anonymous"
  ></script>

  <!-- Select 2 -->
  <link
    href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
    rel="stylesheet"
  />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <!-- Styles -->
  <!-- <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
  /> -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
  />
  <!-- <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css"
  /> -->

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <link rel="stylesheet" href="static/bootstrap.min.css" />
  <link rel="stylesheet" href="static/select2-bootstrap-5-theme.css" />
  <link rel="stylesheet" href="static/style.css" />
</head>

<body>
  <!-- <div class="full-body-container">
    <div class="top-text">
      <div class="google-colors">
        <h1 id="soundsuggest-title">SOUNUGGEST</h1>
      </div>
      <div class="input-box" onclick="sendFocus()">
        <img src="{{ url_for('static', filename='images/mag.png') }}" />
        <input
          placeholder="Search for an Album and Press Enter"
          id="filter-text-val"
        />
      </div>
    </div>
    <div id="answer-box"></div>
  </div> -->

  <div class="container content">
    <div class="row justify-content-md-center">
      <div class="col-6">
        <img
          class="logo"
          src="static/images/Sound Suggest.svg"
          alt="Sound Suggest Logo"
        />
        <div class="wrapper">
          <div class="search-input">
            <a href="" target="_blank" hidden></a>
            <div class="icon"><i class="fas fa-search"></i></div>
            <input type="text" placeholder="Search for an album..." />
            <div class="autocom-box">
              <!-- here list are inserted from javascript -->
            </div>
          </div>
        </div>

        <div class="tag-wrapper">
          <select
            id="social-tags"
            multiple
            data-placeholder="Add social tags..."
          >
            <option></option>
            <option value="Pop">Pop</option>
            <option value="Rap">Rap</option>
            <option value="Country">Country</option>
          </select>
        </div>

        <div class="container results">
          <!-- <div class="card">
            <a
              href="https://open.spotify.com/track/5yY9lUy8nbvjM1Uyo1Uqoc"
              target="_blank"
              class="stretched-link"
            ></a>
            <div class="row g-0">
              <div class="col-md-auto">
                <img
                  class="cover-art"
                  src="https://i.scdn.co/image/ab67616d0000b2738a01c7b77a34378a62f46402"
                  alt="Cover Art"
                />
              </div>
              <div class="col-md-auto">
                <h5 class="song-title">Life Is Good (feat. Drake)</h5>
                <p class="artists">
                  <a
                    href="https://open.spotify.com/artist/1RyvyyTE3xzB2ZywiAwp0i"
                    target="_blank"
                    ><span class="artist-name">Future</span></a
                  >,
                  <a
                    href="https://open.spotify.com/artist/3TVXtAsR1Inumwj472S9r4"
                    target="_blank"
                    ><span class="artist-name">Drake</span></a
                  >
                </p>
              </div>
            </div>
            <img class="play" src="static/images/play.svg" alt="Play Button" />
          </div> -->
        </div>
      </div>
    </div>
  </div>

  <script src="static/suggestions.js"></script>
  <script src="static/script.js"></script>

  <script>
    var input = document
      .getElementById('filter-text-val')
      .addEventListener('keyup', function (event) {
        if (event.keyCode === 13) {
          filterText();
        }
      });

    function answerBoxTemplate(title) {
      return `<div class=''>
                <h3 class='episode-title'>${title}</h3>
            </div>`;
    }

    function sendFocus() {
      document.getElementById('filter-text-val').focus();
    }

    function filterText() {
      let i = 0;
      document.getElementById('answer-box').innerHTML = '';
      console.log(document.getElementById('filter-text-val').value);
      fetch(
        '/episodes?' +
          new URLSearchParams({
            title: document.getElementById('filter-text-val').value,
          }).toString()
      )
        .then((response) => response.json())
        .then((data) =>
          data.forEach((row) => {
            if (i < 10) {
              let tempDiv = document.createElement('div');
              tempDiv.innerHTML = answerBoxTemplate(row.Title);
              document.getElementById('answer-box').appendChild(tempDiv);
              i += 1;
            }
          })
        );
    }
  </script>

  <!-- Bootstrap -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
    integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
    integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
    crossorigin="anonymous"
  ></script>
</body>
